<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign In | B2B Surplus Marketplace</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
/* --- YOUR ORIGINAL STYLES (UNCHANGED) --- */
:root {
  --primary:#0d6efd;
  --success:#198754;
  --danger:#dc3545;
  --dark:#212529;
  --gray:#6c757d;
  --light:#f8f9fa;
  --bg:#f0f4f8;
  --card-bg:#ffffff;
  --border:#e0e0e0;
}
* { box-sizing:border-box; margin:0; padding:0; }
body {
  font-family:'Inter',sans-serif;
  background:var(--bg);
  color:var(--dark);
  min-height:100vh;
  display:flex;
  align-items:center;
}
.container { max-width:1400px; margin:auto; padding:0 1rem; width:100%; }

header { padding:1.5rem 0; border-bottom:1px solid var(--border); margin-bottom:2rem; }
.header-top { display:flex; justify-content:space-between; align-items:center; }
.logo { font-size:1.5rem; font-weight:700; color:var(--primary); text-decoration:none; }

.auth-container {
  max-width:420px;
  margin:auto;
  background:#fff;
  padding:2.5rem;
  border-radius:1rem;
  box-shadow:0 8px 24px rgba(0,0,0,.1);
}

.auth-title { font-size:1.75rem; font-weight:700; text-align:center; margin-bottom:.5rem; }
.auth-subtitle { text-align:center; color:var(--gray); margin-bottom:2rem; }

.form-group { margin-bottom:1.25rem; }
label { display:block; margin-bottom:.5rem; font-weight:500; }
input {
  width:100%;
  padding:.75rem 1rem;
  border:1px solid var(--border);
  border-radius:50px;
}

.btn-primary {
  width:100%;
  padding:.875rem;
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:50px;
  font-weight:600;
  cursor:pointer;
}

.divider {
  text-align:center;
  margin:1.5rem 0;
  position:relative;
  color:var(--gray);
}
.divider::before {
  content:'';
  position:absolute;
  top:50%;
  left:0;
  right:0;
  height:1px;
  background:var(--border);
}
.divider span {
  background:#fff;
  padding:0 1rem;
}

.btn-google {
  width:100%;
  padding:.75rem;
  background:#fff;
  border:1px solid var(--border);
  border-radius:50px;
  font-weight:500;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:.75rem;
  cursor:pointer;
}

.error {
  color:var(--danger);
  font-size:.9rem;
  text-align:center;
  margin-top:1rem;
}
</style>
</head>

<body>

<div class="container">
  <div class="auth-container">
    <h2 class="auth-title">Welcome Back</h2>
    <p class="auth-subtitle">Sign in to your account</p>

    <form id="signinForm">
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="email" required>
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" id="password" required>
      </div>

      <button type="submit" class="btn-primary">Sign In</button>
    </form>

    <div class="divider"><span>or</span></div>

    <button id="googleSignIn" class="btn-google">
      Continue with Google
    </button>

    <div id="errorMessage" class="error"></div>
  </div>
</div>

<!-- FIREBASE AUTH ONLY -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    GoogleAuthProvider,
    signInWithPopup
  } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCrbAWZAiUuIfhwrPC0xa8WPTsVGJWDy1c",
    authDomain: "business2business-67222.firebaseapp.com",
    projectId: "business2business-67222",
    storageBucket: "business2business-67222.firebasestorage.app",
    messagingSenderId: "913722719592",
    appId: "1:913722719592:web:9d54f832b102e4d842aadd",
    measurementId: "G-BDWSNQPKSX"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const errorBox = document.getElementById("errorMessage");

  // EMAIL + PASSWORD SIGN IN
  document.getElementById("signinForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    errorBox.textContent = "";

    const email = email.value;
    const password = document.getElementById("password").value;

    try {
      await signInWithEmailAndPassword(auth, email, password);
      window.location.href = "dashboard.html";
    } catch (error) {
      errorBox.textContent = error.message;
    }
  });

  // GOOGLE SIGN IN
  document.getElementById("googleSignIn").addEventListener("click", async () => {
    errorBox.textContent = "";
    const provider = new GoogleAuthProvider();

    try {
      await signInWithPopup(auth, provider);
      window.location.href = "dashboard.html";
    } catch (error) {
      errorBox.textContent = error.message;
    }
  });
</script>

</body>
</html>